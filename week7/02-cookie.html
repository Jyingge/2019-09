<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>前端用来保存数据的东西cookie</title>
</head>

<body>

</body>

</html>
<script>
    /**
     *  cookie   这个小饼干是干嘛的呢？  就是让前端用来保存数据的东西  应用在登录注册的时候比较多
     *           她是用户自己的东西，前后端都是可以操作的。
     *  H5 新增的两个前端存储数据的API（大小是在5m（兆）左右）
     *      localStorage
     *          getItem(属性名)  setItem(属性名，属性值)   removeItem(属性名)  clear()全部删除  
     *      sessionStorage
     *   localStorage 和 sessionStorage的区别？
     *       local  是不会自动清除的
     *       session 回话在按关闭的时候清空
     *    
     * 
     */


    /**
     *   cookie  
     *      1。前后端都能设置
     *      2。大小只有5k左右
     *      3.设置cookie只能自己编写方法
     *      4。cookie有过期时间
     *      5。cookie会随着请求发送给后端
     * 
     *  localStorage
     *      1。只能有前端设置
     *      2.大小5兆左右
     *      3。有现成的方法
     *      4.后端无法操作该属性
     *      5没有过期时间
      */
</script>
<script>
    // 封装getCookie(属性名)，对应属性值
    //    setCookie(属性名，属性值，过期日期)
    // removeCookie(属性名) 把日期设置成过期的日子就可以
    function getCookie(key) {
        let str = document.cookie;
        str += '; '; //补空的操作，让str中最后一个也满足正则
        let reg = new RegExp(`(^| )${key}=([^; ]+); `);
        return str.match(reg) ? str.match(reg)[2] : null;
    }

    function setCookie(key, value, date) {
        if (date) {
            document.cookie = `${key}=${value};expirse=${new Date(date)}`
        } else {
            document.cookie = `${key}=${value};`
        }
    }

    function removeCookie(key, domain) {
        // domain  是指定域名
        let res=getCookie(key);
        if (domain) {
            document.cookie = `${key}=null;domain=${domain};expires=${new Date(1997)}`
        }
        document.cookie = `${key}=null;expires=${new Date(1997)}`
        return res
    }
</script>